{% extends "base.html" %}

{% block title %}Ticket #{{ ticket.pk }}{% endblock %}

{% block content %}
  <section class="panel">
    <h1>Ticket #{{ ticket.pk }} &middot; {{ ticket.subject }}</h1>
    <p>Status: {{ ticket.get_status_display }} | Priority: {{ ticket.get_priority_display }}</p>
    <div class="messages-list">
      {% for message in ticket_messages %}
        <article class="message-card">
          <header>{{ message.author.username }} &middot; {{ message.created_at }}</header>
          <p>{{ message.body|linebreaksbr }}</p>
        </article>
      {% empty %}
        <p>No messages yet.</p>
      {% endfor %}
    </div>
    <hr />
    <form method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit">Reply</button>
    </form>
  </section>
{% endblock %}
